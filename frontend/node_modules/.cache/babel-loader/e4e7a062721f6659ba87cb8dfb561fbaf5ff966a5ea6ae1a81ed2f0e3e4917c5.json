{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nexport function useSessionStorage(key, defaultValue) {\n  _s();\n  const [value, setValue] = useState(() => {\n    return sessionStorage.getItem(key) || defaultValue;\n  });\n  useEffect(() => {\n    const handleStorageChange = () => {\n      const newValue = sessionStorage.getItem(key) || defaultValue;\n      setValue(newValue);\n    };\n\n    // Listen for storage events (from other tabs)\n    window.addEventListener('storage', handleStorageChange);\n\n    // Listen for custom events (from same tab)\n    window.addEventListener('sessionStorageChange', handleStorageChange);\n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n      window.removeEventListener('sessionStorageChange', handleStorageChange);\n    };\n  }, [key, defaultValue]);\n  const setSessionStorageValue = newValue => {\n    sessionStorage.setItem(key, newValue);\n    setValue(newValue);\n    // Dispatch custom event to notify other components in the same tab\n    window.dispatchEvent(new CustomEvent('sessionStorageChange', {\n      detail: {\n        key,\n        value: newValue\n      }\n    }));\n  };\n  return [value, setSessionStorageValue];\n}\n_s(useSessionStorage, \"UMpX1keGW7C9yl9Qb2Mklsq5i4M=\");","map":{"version":3,"names":["useState","useEffect","useSessionStorage","key","defaultValue","_s","value","setValue","sessionStorage","getItem","handleStorageChange","newValue","window","addEventListener","removeEventListener","setSessionStorageValue","setItem","dispatchEvent","CustomEvent","detail"],"sources":["D:/Asir/CyberCrimeReport/frontend/src/utils/useSessionStorage.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nexport function useSessionStorage(key, defaultValue) {\r\n  const [value, setValue] = useState(() => {\r\n    return sessionStorage.getItem(key) || defaultValue;\r\n  });\r\n\r\n  useEffect(() => {\r\n    const handleStorageChange = () => {\r\n      const newValue = sessionStorage.getItem(key) || defaultValue;\r\n      setValue(newValue);\r\n    };\r\n\r\n    // Listen for storage events (from other tabs)\r\n    window.addEventListener('storage', handleStorageChange);\r\n    \r\n    // Listen for custom events (from same tab)\r\n    window.addEventListener('sessionStorageChange', handleStorageChange);\r\n\r\n    return () => {\r\n      window.removeEventListener('storage', handleStorageChange);\r\n      window.removeEventListener('sessionStorageChange', handleStorageChange);\r\n    };\r\n  }, [key, defaultValue]);\r\n\r\n  const setSessionStorageValue = (newValue) => {\r\n    sessionStorage.setItem(key, newValue);\r\n    setValue(newValue);\r\n    // Dispatch custom event to notify other components in the same tab\r\n    window.dispatchEvent(new CustomEvent('sessionStorageChange', { detail: { key, value: newValue } }));\r\n  };\r\n\r\n  return [value, setSessionStorageValue];\r\n}\r\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,OAAO,SAASC,iBAAiBA,CAACC,GAAG,EAAEC,YAAY,EAAE;EAAAC,EAAA;EACnD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,MAAM;IACvC,OAAOQ,cAAc,CAACC,OAAO,CAACN,GAAG,CAAC,IAAIC,YAAY;EACpD,CAAC,CAAC;EAEFH,SAAS,CAAC,MAAM;IACd,MAAMS,mBAAmB,GAAGA,CAAA,KAAM;MAChC,MAAMC,QAAQ,GAAGH,cAAc,CAACC,OAAO,CAACN,GAAG,CAAC,IAAIC,YAAY;MAC5DG,QAAQ,CAACI,QAAQ,CAAC;IACpB,CAAC;;IAED;IACAC,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAEH,mBAAmB,CAAC;;IAEvD;IACAE,MAAM,CAACC,gBAAgB,CAAC,sBAAsB,EAAEH,mBAAmB,CAAC;IAEpE,OAAO,MAAM;MACXE,MAAM,CAACE,mBAAmB,CAAC,SAAS,EAAEJ,mBAAmB,CAAC;MAC1DE,MAAM,CAACE,mBAAmB,CAAC,sBAAsB,EAAEJ,mBAAmB,CAAC;IACzE,CAAC;EACH,CAAC,EAAE,CAACP,GAAG,EAAEC,YAAY,CAAC,CAAC;EAEvB,MAAMW,sBAAsB,GAAIJ,QAAQ,IAAK;IAC3CH,cAAc,CAACQ,OAAO,CAACb,GAAG,EAAEQ,QAAQ,CAAC;IACrCJ,QAAQ,CAACI,QAAQ,CAAC;IAClB;IACAC,MAAM,CAACK,aAAa,CAAC,IAAIC,WAAW,CAAC,sBAAsB,EAAE;MAAEC,MAAM,EAAE;QAAEhB,GAAG;QAAEG,KAAK,EAAEK;MAAS;IAAE,CAAC,CAAC,CAAC;EACrG,CAAC;EAED,OAAO,CAACL,KAAK,EAAES,sBAAsB,CAAC;AACxC;AAACV,EAAA,CA/BeH,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}